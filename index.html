<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buscador NASA</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <div class="logo">
      <img src="https://upload.wikimedia.org/wikipedia/commons/e/e5/NASA_logo.svg" alt="Logo NASA">
    </div>
    <button id="darkModeBtn">Dark Mode</button>
  </header>

  <main>
    <section class="hero">
      <h1>Buscador de ImÃ¡genes de la NASA</h1>
      <p>Explora el universo desde tu pantalla ðŸŒ </p>


      <form id="searchForm">
        <input type="text" id="searchInput" placeholder="Buscar imÃ¡genes..." required>
        <button type="submit">Buscar</button>
      </form>
    </section>


    <section id="results" class="results"></section>
  </main>

  <footer>
    <p>Â© 2025 Proyecto educativo con la API pÃºblica de la NASA</p>
  </footer>

  <script>

    const btnDark = document.getElementById("darkModeBtn");
    btnDark.addEventListener("click", () => {
      document.body.classList.toggle("dark-mode");
      btnDark.textContent = document.body.classList.contains("dark-mode")
        ? "Light Mode"
        : "Dark Mode";
    });

    const form = document.getElementById("searchForm");
    const input = document.getElementById("searchInput");
    const results = document.getElementById("results");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      const query = input.value.trim();
      if (!query) return;

      results.innerHTML = "<p>Cargando resultados...</p>";

      try {
        const response = await fetch(`https://images-api.nasa.gov/search?q=${encodeURIComponent(query)}&media_type=image`);
        const data = await response.json();

       
        results.innerHTML = "";

        const items = data.collection.items;

        if (items.length === 0) {
          results.innerHTML = "<p>No se encontraron resultados ðŸ˜•</p>";
          return;
        }

        
        items.slice(0, 12).forEach(item => {
          const imgUrl = item.links ? item.links[0].href : "";
          const title = item.data[0].title;
          const desc = item.data[0].description || "Sin descripciÃ³n disponible.";

          const card = document.createElement("div");
          card.classList.add("card");

          card.innerHTML = `
            <img src="${imgUrl}" alt="${title}">
            <h3>${title}</h3>
            <p>${desc.substring(0, 120)}...</p>
          `;

          results.appendChild(card);
        });
      } catch (error) {
        results.innerHTML = "<p>Error al cargar los datos ðŸš¨</p>";
        console.error(error);
      }
    });
  </script>
</body>
</html>